# 快速开始指南

## 安装

插件已经构建完成，可以直接使用！

## 启用插件

1. 打开 Obsidian 设置
2. 进入"第三方插件"
3. 找到"手记视图"插件
4. 启用插件

## 使用方法

### 打开手记视图

1. 按 `Ctrl+P` (Windows) 或 `Cmd+P` (Mac) 打开命令面板
2. 输入"打开手记视图"
3. 选择命令，视图会在右侧面板打开

### 刷新手记视图

如果添加或修改了文件，可以：
1. 打开命令面板
2. 输入"刷新手记视图"
3. 视图会重新加载所有文件

## 功能说明

### MVP 版本包含的功能

✅ **文件扫描和日期提取**
- 自动扫描所有 Markdown 文件
- 支持多种日期格式识别

✅ **从正文提取图片**
- 支持 `![[image.png]]` 格式
- 支持 `![](path/to/image.png)` 格式
- 图片直接从正文提取，不需要放在 frontmatter

✅ **手记卡片展示**
- 按月份分组显示
- 每个卡片显示日期、图片、内容预览和统计信息
- 点击卡片打开原始文件

✅ **统计信息**
- 连续记录天数
- 总字数
- 写手记天数

## 日期识别

插件会按以下顺序尝试提取日期：

1. **文件名**：`2026-01-12.md`、`2026年1月12日.md`、`2026.01.12.md`
2. **Frontmatter**：`date`、`Date`、`created`、`created_time` 字段
3. **正文内容**：`2026年1月12日`、`2026-01-12`、`2026/01/12`
4. **文件创建时间**：如果以上都找不到，使用文件创建时间

## 图片支持

插件支持两种图片格式：

- **Wikilink**: `![[image.png]]`
- **Markdown**: `![](path/to/image.png)`

图片会从正文中提取，不需要放在 frontmatter 中。

## 设置

在 Obsidian 设置中可以配置：

- **文件夹路径**：指定要扫描的文件夹（留空则扫描整个 vault）
- **图片显示限制**：每个卡片最多显示的图片数量（1-10）

## 开发模式

如果需要修改代码：

```bash
cd .obsidian/plugins/obsidian-journal-view
npm run dev  # 开发模式（自动重新构建）
```

修改代码后，在 Obsidian 中按 `Ctrl+R` 重新加载插件。

## 故障排除

### 视图不显示内容

1. 检查文件是否包含日期信息
2. 尝试使用"刷新手记视图"命令
3. 检查控制台是否有错误信息（`Ctrl+Shift+I`）

### 图片不显示

1. 确认图片路径正确
2. 确认图片文件存在于 vault 中
3. 检查图片格式是否支持（`![[image]]` 或 `![](path)`）

### 日期识别不正确

1. 检查文件名或 frontmatter 中的日期格式
2. 确保日期格式符合支持的格式
3. 可以在设置中查看文件创建时间作为备选

## 下一步

MVP 版本已完成，后续可以添加：

- 日历视图（月/周/日视图切换）
- 搜索和筛选功能
- 导出功能
- 更多统计信息
- 主题支持
